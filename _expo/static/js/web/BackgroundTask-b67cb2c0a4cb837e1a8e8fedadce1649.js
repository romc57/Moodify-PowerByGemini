__d(function(g,r,i,a,m,_e,_d){"use strict";function e(e){if(e&&e.__esModule)return e;var n={};return e&&Object.keys(e).forEach(function(t){var c=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(n,t,c.get?c:{enumerable:!0,get:function(){return e[t]}})}),n.default=e,n}Object.defineProperty(_e,'__esModule',{value:!0}),_e.registerBackgroundTask=async function(){try{await t.isTaskRegisteredAsync(o)||(await n.registerTaskAsync(o,{minimumInterval:900}),console.log('[Background] Task registered'))}catch(e){console.warn('[Background] Register failed',e)}},_e.unregisterBackgroundTask=async function(){try{await n.unregisterTaskAsync(o),console.log('[Background] Task unregistered')}catch(e){console.warn('[Background] Unregister failed',e)}};var n=e(r(_d[0])),t=e(r(_d[1])),c=r(_d[2]);const o='BACKGROUND_MOODIFY_SYNC';t.defineTask(o,async()=>{try{console.log('[Background] Syncing Spotify State...');return await c.spotifyRemote.getCurrentState()&&console.log('[Background] Spotify state synced'),n.BackgroundTaskResult.Success}catch(e){return console.error('[Background] Sync Failed',e),n.BackgroundTaskResult.Failed}})},2050,[2051,2052,451]);
__d(function(g,r,i,a,m,_e,_d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),Object.defineProperty(_e,"BackgroundTaskStatus",{enumerable:!0,get:function(){return u.BackgroundTaskStatus}}),Object.defineProperty(_e,"BackgroundTaskResult",{enumerable:!0,get:function(){return u.BackgroundTaskResult}}),Object.defineProperty(_e,"getStatusAsync",{enumerable:!0,get:function(){return l}}),_e.registerTaskAsync=async function(e,t={}){if(!c.default.registerTaskAsync)throw new n.UnavailabilityError('BackgroundTask','registerTaskAsync');if(!s.isTaskDefined(e))throw new Error(`Task '${e}' is not defined. You must define a task using TaskManager.defineTask before registering.`);if(await c.default.getStatusAsync()===u.BackgroundTaskStatus.Restricted){if(!d){const t=`Background tasks are not available in the current environment. Skipped registering task: ${e}.`;console.warn(t),d=!0}return}if(k(e),await s.isTaskRegisteredAsync(e))return;await c.default.registerTaskAsync(e,t)},_e.unregisterTaskAsync=async function(e){if(!c.default.unregisterTaskAsync)throw new n.UnavailabilityError('BackgroundTask','unregisterTaskAsync');if(k(e),!await s.isTaskRegisteredAsync(e))return;await c.default.unregisterTaskAsync(e)},_e.triggerTaskWorkerForTestingAsync=async function(){return Promise.resolve(!1)},_e.addExpirationListener=function(e){if(!c.default.addListener)throw new n.UnavailabilityError('BackgroundTask','addListener');return c.default.addListener('onTasksExpired',e)};var e,t=r(_d[0]),n=r(_d[1]),s=(function(e){if(e&&e.__esModule)return e;var t={};return e&&Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),t.default=e,t})(r(_d[2])),u=r(_d[3]),o=r(_d[4]),c=(e=o)&&e.__esModule?e:{default:e};let d=!1,f=!1;function k(e){if((0,t.isRunningInExpoGo)()&&!f){const e="`Background Task` functionality is not available in Expo Go:\nYou can use this API and any others in a development build. Learn more: https://expo.fyi/dev-client.";console.warn(e),f=!0}if(!e||'string'!=typeof e)throw new TypeError('`taskName` must be a non-empty string.')}const l=async()=>{if(!c.default.getStatusAsync)throw new n.UnavailabilityError('BackgroundTask','getStatusAsync');return(0,t.isRunningInExpoGo)()?u.BackgroundTaskStatus.Restricted:c.default.getStatusAsync()}},2051,[683,223,2052,2054,2055]);
__d(function(g,r,i,a,m,_e,d){"use strict";Object.defineProperty(_e,'__esModule',{value:!0}),_e.defineTask=function(e,n){if(!e||'string'!=typeof e)return void console.warn("TaskManager.defineTask: 'taskName' argument must be a non-empty string.");if(!n||'function'!=typeof n)return void console.warn("TaskManager.defineTask: 'task' argument must be a function.");u.set(e,n)},_e.isTaskDefined=function(e){return u.has(e)},_e.isTaskRegisteredAsync=async function(e){if(!t.default.isTaskRegisteredAsync)throw new n.UnavailabilityError('TaskManager','isTaskRegisteredAsync');return l(e),t.default.isTaskRegisteredAsync(e)},_e.getTaskOptionsAsync=async function(e){if(!t.default.getTaskOptionsAsync)throw new n.UnavailabilityError('TaskManager','getTaskOptionsAsync');return l(e),t.default.getTaskOptionsAsync(e)},_e.getRegisteredTasksAsync=async function(){if(!t.default.getRegisteredTasksAsync)throw new n.UnavailabilityError('TaskManager','getRegisteredTasksAsync');return t.default.getRegisteredTasksAsync()},_e.unregisterTaskAsync=async function(e){if(!t.default.unregisterTaskAsync)throw new n.UnavailabilityError('TaskManager','unregisterTaskAsync');l(e),await t.default.unregisterTaskAsync(e)},_e.unregisterAllTasksAsync=async function(){if(!t.default.unregisterAllTasksAsync)throw new n.UnavailabilityError('TaskManager','unregisterAllTasksAsync');await t.default.unregisterAllTasksAsync()},_e.isAvailableAsync=async function(){return t.default.isAvailableAsync()};var e,n=r(d[0]),s=r(d[1]),t=(e=s)&&e.__esModule?e:{default:e};const u=new Map;function l(e){if(!e||'string'!=typeof e)throw new TypeError('`taskName` must be a non-empty string.')}if(t.default){new n.LegacyEventEmitter(t.default).addListener(t.default.EVENT_NAME,async({data:e,error:n,executionInfo:s})=>{const{eventId:l,taskName:o}=s,c=u.get(o);let f=null;if(c)try{f=await c({data:e,error:n,executionInfo:s})}catch(n){console.error(`TaskManager: Task "${o}" failed:`,n)}finally{await t.default.notifyTaskFinishedAsync(o,{eventId:l,result:f})}else console.warn(`TaskManager: Task "${o}" has been executed but looks like it is not defined. Make sure that "TaskManager.defineTask" is called during initialization phase.`),await t.default.notifyTaskFinishedAsync(o,{eventId:l,result:f}),await t.default.unregisterTaskAsync(o)})}},2052,[223,2053]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return t}});var t={get EVENT_NAME(){return'TaskManager.executeTask'},addListener(){},removeListeners(){},isAvailableAsync:async()=>!1}},2053,[]);
__d(function(g,r,i,a,m,e,d){"use strict";var t,n;Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"BackgroundTaskStatus",{enumerable:!0,get:function(){return t}}),Object.defineProperty(e,"BackgroundTaskResult",{enumerable:!0,get:function(){return n}}),(function(t){t[t.Restricted=1]="Restricted",t[t.Available=2]="Available"})(t||(t={})),(function(t){t[t.Success=1]="Success",t[t.Failed=2]="Failed"})(n||(n={}))},2054,[]);
__d(function(g,r,i,a,m,e,d){"use strict";Object.defineProperty(e,'__esModule',{value:!0}),Object.defineProperty(e,"default",{enumerable:!0,get:function(){return n}});var t=r(d[0]),n={getStatusAsync:async()=>t.BackgroundTaskStatus.Restricted}},2055,[2054]);